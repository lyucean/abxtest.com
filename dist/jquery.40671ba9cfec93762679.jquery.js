"use strict";(self.webpackChunkabxtest=self.webpackChunkabxtest||[]).push([[729],{838:(t,e,a)=>{var i=a(755),n=a.n(i);function c(){let t=(window.location.hash.substring(1).split("#",1)+"?").split("?",1)[0],e=n()("#app");switch(t){case"choice":e.load("/choice.html",(function(){o()}));break;case"test":e.load("/test.html",(function(){n().urlGET("v1")&&n().urlGET("v2")?d():window.location.href="#choice"}));break;case"result":e.load("/result.html");break;case"faq":e.load("/faq.html");break;default:e.load("/home.html")}}function o(){n().getJSON("http://localhost/api/get/formats.json",(function(t){l("a",t.formats),l("b",t.formats),n()("#button-compare").click((function(){window.location.href=window.location.origin+"#test?v1="+n()("input[name=radio_a]:checked").val()+"&v2="+n()("input[name=radio_b]:checked").val()}))})).fail((function(){setTimeout((()=>{o()}),3e3)}))}function l(t,e){let a,i=[],c="";n().each(e,(function(e,n){a=t+"_"+n.name+"_"+e,c="",n.hasOwnProperty("checked")&&(c="checked"),i.push('<div class="form-check"><input class="form-check-input" type="radio" name="radio_'+t+'" id="'+a+'" value="'+n.name+'" '+c+' ><label class="form-check-label w-100" for="'+a+'">'+n.title+"</label></div>")})),n()("#variant_"+t).html(i.join(""))}n()(window).on("hashchange",(function(){c()})),c();let s,r=document.createElement("audio"),u='<i class="bi bi-play-fill"></i>',h='<i class="bi bi-pause-fill"></i>';function d(){let t="?v1="+n().urlGET("v1")+"&v2="+n().urlGET("v2");n().getJSON("http://localhost/api/get/test.json"+t,(function(t){n()("#button_play_a").click((function(){f(n()(this),t.tracks.urls.a)})),n()("#button_play_b").click((function(){f(n()(this),t.tracks.urls.b)})),n()("#button_play_x").click((function(){f(n()(this),t.tracks.urls.x)}))})).fail((function(){setTimeout((()=>{d()}),3e3)}))}function f(t,e){r.pause(),n()(".progress-bar").css("width","100%"),r.removeEventListener("timeupdate",s,!1),t.html()===h?t.html(u):(n()(".answer-options button.card-body-play").html(u),r.setAttribute("src",e),t.html(h),r.addEventListener("loadeddata",(()=>{r.play()})),s=function(){t.next().children(".progress-bar").css("width",r.currentTime/r.duration*100+"%")},r.addEventListener("timeupdate",s)),r.addEventListener("ended",(function(){this.pause(),t.html(u)}),!1)}}},t=>{t.O(0,[705],(()=>(838,t(t.s=838)))),t.O()}]);