"use strict";(self.webpackChunkabxtest=self.webpackChunkabxtest||[]).push([[881],{802:(t,e,i)=>{var n=i(692),a=i.n(n);function o(){let t=(window.location.hash.substring(1).split("#",1)+"?").split("?",1)[0],e=a()("#app");switch(t){case"choice":e.load("/choice.html",(function(){c()}));break;case"test":e.load("/test.html",(function(){a().urlGET("v1")&&a().urlGET("v2")?h():window.location.href="#choice"}));break;case"result":e.load("/result.html");break;case"faq":e.load("/faq.html");break;default:e.load("/home.html")}}function c(){a().getJSON(window.location.origin.replace(window.location.port,"81")+"/api/get/formats.json",(function(t){l("a",t.formats),l("b",t.formats),a()("#button-compare").click((function(){window.location.href=window.location.origin+"#test?v1="+a()("input[name=radio_a]:checked").val()+"&v2="+a()("input[name=radio_b]:checked").val()}))})).fail((function(){setTimeout((()=>{c()}),3e3)}))}function l(t,e){let i,n=[],o="";a().each(e,(function(e,a){i=t+"_"+a.name+"_"+e,o="",a.hasOwnProperty("checked")&&(o="checked"),n.push('<div class="form-check"><input class="form-check-input" type="radio" name="radio_'+t+'" id="'+i+'" value="'+a.name+'" '+o+' ><label class="form-check-label w-100" for="'+i+'">'+a.title+"</label></div>")})),a()("#variant_"+t).html(n.join(""))}a()(window).on("hashchange",(function(){o()})),o();let s,r=document.createElement("audio"),u='<i class="bi bi-play-fill"></i>',d='<i class="bi bi-pause-fill"></i>';function h(){let t="?v1="+a().urlGET("v1")+"&v2="+a().urlGET("v2");a().getJSON(window.location.origin.replace(window.location.port,"81")+"/api/get/test.json"+t,(function(t){a()("#button_play_a").click((function(){f(a()(this),t.tracks.urls.a)})),a()("#button_play_b").click((function(){f(a()(this),t.tracks.urls.b)})),a()("#button_play_x").click((function(){f(a()(this),t.tracks.urls.x)}))})).fail((function(){setTimeout((()=>{h()}),3e3)}))}function f(t,e){r.pause(),a()(".progress-bar").css("width","100%"),r.removeEventListener("timeupdate",s,!1),t.html()===d?t.html(u):(a()(".answer-options button.card-body-play").html(u),r.setAttribute("src",e),t.html(d),r.addEventListener("loadeddata",(()=>{r.play()})),s=function(){t.next().children(".progress-bar").css("width",r.currentTime/r.duration*100+"%")},r.addEventListener("timeupdate",s)),r.addEventListener("ended",(function(){this.pause(),t.html(u)}),!1)}}},t=>{t.O(0,[716],(()=>t(t.s=802))),t.O()}]);